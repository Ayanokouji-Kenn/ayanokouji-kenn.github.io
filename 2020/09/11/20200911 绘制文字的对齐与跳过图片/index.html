<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>绘制文字的对齐与跳过图片 | 七夜的小屋</title><meta name="keywords" content="Android,View,canvas"><meta name="author" content="Nanaya Haruki"><meta name="copyright" content="Nanaya Haruki"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="绘制空心圆stroke问题stroke并不是在圆的半径外面，再往外绘制一个圆，而是就在圆周处绘制，绘制粗细等于paint.strokeWidth 1234567891011121314151617181920212223242526272829303132class CircleView(context: Context?, attrs: AttributeSet?) : View(context">
<meta property="og:type" content="article">
<meta property="og:title" content="绘制文字的对齐与跳过图片">
<meta property="og:url" content="https://nanayaharuki.github.io/2020/09/11/20200911%20%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E7%9A%84%E5%AF%B9%E9%BD%90%E4%B8%8E%E8%B7%B3%E8%BF%87%E5%9B%BE%E7%89%87/index.html">
<meta property="og:site_name" content="七夜的小屋">
<meta property="og:description" content="绘制空心圆stroke问题stroke并不是在圆的半径外面，再往外绘制一个圆，而是就在圆周处绘制，绘制粗细等于paint.strokeWidth 1234567891011121314151617181920212223242526272829303132class CircleView(context: Context?, attrs: AttributeSet?) : View(context">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://nanayaharuki.github.io/img/5.jpg">
<meta property="article:published_time" content="2020-09-11T02:04:27.000Z">
<meta property="article:modified_time" content="2021-03-10T09:35:59.011Z">
<meta property="article:author" content="Nanaya Haruki">
<meta property="article:tag" content="Android">
<meta property="article:tag" content="View">
<meta property="article:tag" content="canvas">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://nanayaharuki.github.io/img/5.jpg"><link rel="shortcut icon" href="/img/avatar.jfif"><link rel="canonical" href="https://nanayaharuki.github.io/2020/09/11/20200911%20%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E7%9A%84%E5%AF%B9%E9%BD%90%E4%B8%8E%E8%B7%B3%E8%BF%87%E5%9B%BE%E7%89%87/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '绘制文字的对齐与跳过图片',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-03-10 17:35:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/avatar.jfif" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">91</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music"><i class="fa-fw /music/"></i><span> 0</span></a></li><li><a class="site-page child" href="/Movie"><i class="fa-fw /movies/"></i><span> 1</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/5.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">七夜的小屋</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music"><i class="fa-fw /music/"></i><span> 0</span></a></li><li><a class="site-page child" href="/Movie"><i class="fa-fw /movies/"></i><span> 1</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">绘制文字的对齐与跳过图片</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-09-11T02:04:27.000Z" title="发表于 2020-09-11 10:04:27">2020-09-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-03-10T09:35:59.011Z" title="更新于 2021-03-10 17:35:59">2021-03-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/">Android</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="绘制文字的对齐与跳过图片"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h6 id="绘制空心圆stroke问题"><a href="#绘制空心圆stroke问题" class="headerlink" title="绘制空心圆stroke问题"></a>绘制空心圆stroke问题</h6><p>stroke并不是在圆的半径外面，再往外绘制一个圆，而是就在圆周处绘制，绘制粗细等于<code>paint.strokeWidth</code></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CircleView</span></span>(context: Context?, attrs: AttributeSet?) : View(context, attrs) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> paint = Paint(Paint.ANTI_ALIAS_FLAG)</span><br><span class="line">    <span class="keyword">val</span> RADIUS = <span class="number">150F</span>.dp</span><br><span class="line">    <span class="keyword">var</span> centerX = <span class="number">0f</span></span><br><span class="line">    <span class="keyword">var</span> centerY = <span class="number">0f</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onSizeChanged</span><span class="params">(w: <span class="type">Int</span>, h: <span class="type">Int</span>, oldw: <span class="type">Int</span>, oldh: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onSizeChanged(w, h, oldw, oldh)</span><br><span class="line">        centerX = w/<span class="number">2f</span></span><br><span class="line">        centerY = h/<span class="number">2f</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onDraw</span><span class="params">(canvas: <span class="type">Canvas</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onDraw(canvas)</span><br><span class="line">        <span class="comment">// 描个灰色的边，宽15dp</span></span><br><span class="line">        paint.color = Color.LTGRAY</span><br><span class="line">        paint.strokeWidth = <span class="number">15f</span>.dp</span><br><span class="line">        paint.style = Paint.Style.STROKE</span><br><span class="line">        canvas.drawCircle(centerX,centerY,RADIUS,paint)</span><br><span class="line">        <span class="comment">// 描个青色的边，宽8dp</span></span><br><span class="line">        paint.color = Color.CYAN</span><br><span class="line">        paint.strokeCap = Paint.Cap.ROUND</span><br><span class="line">        paint.strokeWidth = <span class="number">8f</span>.dp</span><br><span class="line">        canvas.drawCircle(centerX,centerY,RADIUS,paint)</span><br><span class="line">        <span class="comment">// 在圆周画2条竖线，表示圆周在哪</span></span><br><span class="line">        paint.strokeWidth = <span class="number">1f</span></span><br><span class="line">        paint.color = Color.RED</span><br><span class="line">        canvas.drawLine(centerX-RADIUS,<span class="number">0f</span>,centerX-RADIUS,<span class="number">1000f</span>,paint)</span><br><span class="line">        canvas.drawLine(centerX+RADIUS,<span class="number">0f</span>,centerX+RADIUS,<span class="number">1000f</span>,paint)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/09/11/Vu5otkOwPThyd39.png" alt="1.png"></p>
<p>可以看到，stroke并不是在圆的<strong>外面</strong>绘制，而是就在圆周处绘制，15的宽度会是圆外画7，圆内画7。<br>顺便画圆也可以用drawArc和drawOval来实现。</p>
<hr>
<p>进入正题</p>
<h3 id="绘制文字纵向居中和左对齐"><a href="#绘制文字纵向居中和左对齐" class="headerlink" title="绘制文字纵向居中和左对齐"></a>绘制文字纵向居中和左对齐</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CircleView</span></span>(context: Context?, attrs: AttributeSet?) : View(context, attrs) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> paint = Paint(Paint.ANTI_ALIAS_FLAG).apply &#123;</span><br><span class="line">        style = Paint.Style.STROKE</span><br><span class="line">        strokeCap = Paint.Cap.ROUND</span><br><span class="line"></span><br><span class="line">        strokeWidth = <span class="number">15f</span>.dp</span><br><span class="line">        textSize = <span class="number">34f</span>.dp</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">val</span> RADIUS = <span class="number">150F</span>.dp</span><br><span class="line">    <span class="keyword">var</span> centerX = <span class="number">0f</span></span><br><span class="line">    <span class="keyword">var</span> centerY = <span class="number">0f</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onSizeChanged</span><span class="params">(w: <span class="type">Int</span>, h: <span class="type">Int</span>, oldw: <span class="type">Int</span>, oldh: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onSizeChanged(w, h, oldw, oldh)</span><br><span class="line">        centerX = w / <span class="number">2f</span></span><br><span class="line">        centerY = h / <span class="number">2f</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> testStr = <span class="string">&quot;abab&quot;</span></span><br><span class="line">    <span class="keyword">val</span> textBound = Rect()</span><br><span class="line">    <span class="keyword">val</span> fontMetrics = Paint.FontMetricsInt()</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onDraw</span><span class="params">(canvas: <span class="type">Canvas</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onDraw(canvas)</span><br><span class="line"></span><br><span class="line">        paint.color = Color.LTGRAY</span><br><span class="line">        canvas.drawArc(</span><br><span class="line">            centerX - RADIUS,</span><br><span class="line">            centerY - RADIUS,</span><br><span class="line">            centerX + RADIUS,</span><br><span class="line">            centerY + RADIUS,</span><br><span class="line">            -<span class="number">90f</span>,</span><br><span class="line">            <span class="number">360f</span>,</span><br><span class="line">            <span class="literal">false</span>,</span><br><span class="line">            paint</span><br><span class="line">        )</span><br><span class="line">        paint.color = Color.BLUE</span><br><span class="line">        canvas.drawArc(</span><br><span class="line">            centerX - RADIUS,</span><br><span class="line">            centerY - RADIUS,</span><br><span class="line">            centerX + RADIUS,</span><br><span class="line">            centerY + RADIUS,</span><br><span class="line">            -<span class="number">90f</span>,</span><br><span class="line">            <span class="number">250f</span>,</span><br><span class="line">            <span class="literal">false</span>,</span><br><span class="line">            paint</span><br><span class="line">        )</span><br><span class="line">        <span class="comment">// 画个圆心，定个位置，方便比较文字的纵向坐标</span></span><br><span class="line">        paint.strokeWidth = <span class="number">5f</span>.dp</span><br><span class="line">        canvas.drawPoint(centerX, centerY, paint)</span><br><span class="line">        paint.strokeWidth = <span class="number">0f</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ————————————————————— 下面为调整文字居中对齐的2种方式 ———————————————————————</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 方法一、静态文字，可以直接测量高度,这是从[1,0]开始测量的，top为负数</span></span><br><span class="line">        <span class="comment">// [2,-39][112,1]</span></span><br><span class="line">        paint.getTextBounds(testStr, <span class="number">0</span>, testStr.length, textBound)</span><br><span class="line">        canvas.drawText(</span><br><span class="line">            testStr,</span><br><span class="line">            centerX - (textBound.right + textBound.left) / <span class="number">2</span>,</span><br><span class="line">            centerY - (textBound.top + textBound.bottom) / <span class="number">2</span>,</span><br><span class="line">            paint</span><br><span class="line">        )</span><br><span class="line">        <span class="comment">// 方法二、动态文字，可以用文字五条定位线中的top~bottom （包含留白）或 ascent ~ descent（文字主体部分）</span></span><br><span class="line">        <span class="comment">// FontMetricsInt: top=-54 ascent=-47 descent=12 bottom=14 leading=0</span></span><br><span class="line">        <span class="comment">// 和textBound一样，这玩意也是top负数</span></span><br><span class="line">        paint.getFontMetricsInt(fontMetrics)</span><br><span class="line">        Log.d(javaClass.simpleName,fontMetrics.toString())</span><br><span class="line">        canvas.drawText(</span><br><span class="line">            testStr, centerX - (textBound.right + textBound.left) / <span class="number">2</span>,</span><br><span class="line">            centerY - (fontMetrics.top + fontMetrics.bottom) / <span class="number">2</span>,</span><br><span class="line">            paint</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ————————————————————— 下面为调整文字左对齐 ———————————————————————</span></span><br><span class="line">        <span class="comment">// 横坐标为0的话，如果2行的字体大小差距很大，依然不会对齐，因为每个字符有自然间距</span></span><br><span class="line">        <span class="comment">// 通过textBound.left进行调整后，基本就对齐了，但还是会差几个像素，这是系统问题，没法解决</span></span><br><span class="line">        paint.color = Color.BLACK</span><br><span class="line">        paint.textSize = <span class="number">14f</span>.dp</span><br><span class="line">        paint.getTextBounds(testStr,<span class="number">0</span>,testStr.length,textBound)</span><br><span class="line">        canvas.drawText(testStr, -textBound.left.toFloat(),-textBound.top.toFloat(), paint)</span><br><span class="line"></span><br><span class="line">        paint.textSize = <span class="number">150f</span>.dp</span><br><span class="line">        paint.getTextBounds(testStr,<span class="number">0</span>,testStr.length,textBound)</span><br><span class="line">        canvas.drawText(testStr,  -textBound.left.toFloat(),-textBound.top.toFloat(), paint)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="绘制文字跳过图片"><a href="#绘制文字跳过图片" class="headerlink" title="绘制文字跳过图片"></a>绘制文字跳过图片</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MultiTextView</span></span>(context: Context?, attrs: AttributeSet?) : View(context, attrs) &#123;</span><br><span class="line">    <span class="keyword">val</span> testStr =</span><br><span class="line">        <span class="string">&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla et turpis tortor. Sed efficitur arcu tellus, vitae elementum ante bibendum in. Proin id tortor sapien. Donec sit amet dictum elit. Nam bibendum quam elit, vel malesuada dolor rhoncus sit amet. Aliquam congue finibus dui, ut finibus tellus sollicitudin vitae. Aliquam finibus felis sed imperdiet viverra. Phasellus id lorem justo. Donec vehicula a augue at lacinia. Etiam tincidunt eros sed euismod aliquam.\n&quot;</span> +</span><br><span class="line">                <span class="string">&quot;In hac habitasse platea dictumst. Ut tempor maximus mauris et semper. In facilisis, augue sit amet imperdiet porttitor, turpis sapien pharetra quam, vitae porta neque ligula nec ligula. Sed sed elit erat. Praesent viverra dui ac velit pretium, non volutpat nisi euismod. Praesent at condimentum felis, ut convallis augue. Nam ut velit eros. Curabitur tristique, nisl eget porta pretium, justo quam mollis nisi, at posuere orci dolor eu enim. Integer ac dui vitae tellus vestibulum egestas. Sed congue vitae elit ac posuere. Pellentesque ut risus id nibh porttitor consequat ut luctus neque. Duis a lectus facilisis, eleifend massa a, lobortis libero.&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> paint = Paint(Paint.ANTI_ALIAS_FLAG)</span><br><span class="line">    <span class="keyword">val</span> bmpWidth = <span class="number">200f</span>.dp.toInt()</span><br><span class="line">    <span class="keyword">val</span> bmpTopPadding = <span class="number">100</span></span><br><span class="line">    <span class="keyword">val</span> options = BitmapFactory.Options()</span><br><span class="line">    <span class="keyword">val</span> fontMetrics = Paint.FontMetricsInt()</span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> bmp: Bitmap</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onSizeChanged</span><span class="params">(w: <span class="type">Int</span>, h: <span class="type">Int</span>, oldw: <span class="type">Int</span>, oldh: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onSizeChanged(w, h, oldw, oldh)</span><br><span class="line"></span><br><span class="line">        options.inJustDecodeBounds = <span class="literal">true</span> <span class="comment">// 不实际读取像素，只测量大小，几乎不消耗时间和空间</span></span><br><span class="line">        BitmapFactory.decodeResource(resources, R.drawable.kana, options)</span><br><span class="line">        options.inJustDecodeBounds = <span class="literal">false</span></span><br><span class="line">        options.inDensity = options.outWidth</span><br><span class="line">        options.inTargetDensity = bmpWidth</span><br><span class="line">        bmp = BitmapFactory.decodeResource(resources, R.drawable.kana, options)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onDraw</span><span class="params">(canvas: <span class="type">Canvas</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onDraw(canvas)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 绘制图片 图片在[onSizeChanged]中初始化了</span></span><br><span class="line">        canvas.drawBitmap(bmp, width.toFloat() - bmpWidth, bmpTopPadding.toFloat(), paint)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 绘制文字,绕过图片</span></span><br><span class="line">        paint.textSize = <span class="number">20f</span>.dp</span><br><span class="line">        paint.getFontMetricsInt(fontMetrics)</span><br><span class="line">        <span class="keyword">var</span> start = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> verticalOffset = -fontMetrics.top <span class="comment">//纵向初始偏移量</span></span><br><span class="line">        <span class="keyword">while</span> (start &lt; testStr.length) &#123;</span><br><span class="line">            <span class="keyword">var</span> maxWidth =</span><br><span class="line">                <span class="keyword">if</span> (verticalOffset + fontMetrics.bottom &lt; bmpTopPadding</span><br><span class="line">                    || verticalOffset + fontMetrics.top &gt; bmpTopPadding + bmp.height</span><br><span class="line">                ) &#123;</span><br><span class="line">                    width</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    width - bmpWidth</span><br><span class="line">                &#125;</span><br><span class="line">            <span class="keyword">val</span> count =</span><br><span class="line">                paint.breakText(testStr, start, testStr.length, <span class="literal">true</span>, maxWidth.toFloat(), <span class="literal">null</span>)</span><br><span class="line">            canvas.drawText(testStr, start, start + count, <span class="number">0f</span>, verticalOffset.toFloat(), paint)</span><br><span class="line">            start += count</span><br><span class="line">            <span class="comment">//fontSpacing是基于字体和textSize定下的一行所占空间</span></span><br><span class="line">            verticalOffset += paint.fontSpacing.toInt()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="https://i.loli.net/2020/09/11/fyR3sdtn4K5juFe.png" alt="2.png"></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Nanaya Haruki</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://nanayaharuki.github.io/2020/09/11/20200911%20%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E7%9A%84%E5%AF%B9%E9%BD%90%E4%B8%8E%E8%B7%B3%E8%BF%87%E5%9B%BE%E7%89%87/">https://nanayaharuki.github.io/2020/09/11/20200911%20%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E7%9A%84%E5%AF%B9%E9%BD%90%E4%B8%8E%E8%B7%B3%E8%BF%87%E5%9B%BE%E7%89%87/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://nanayaharuki.github.io" target="_blank">七夜的小屋</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Android/">Android</a><a class="post-meta__tags" href="/tags/View/">View</a><a class="post-meta__tags" href="/tags/canvas/">canvas</a></div><div class="post_share"><div class="social-share" data-image="/img/5.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/03/10/20210310%20flutter%20web%20%E9%A1%B5%E9%9D%A2%E7%A9%BA%E7%99%BD%20canvaskit/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/6.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">20210310 flutter web 页面空白 canvaskit</div></div></a></div><div class="next-post pull-right"><a href="/2020/07/24/20200724%20ObjectBox%E5%A2%9E%E5%8A%A0%E6%96%B0%E5%AD%97%E6%AE%B5%E7%9A%84%E9%97%AE%E9%A2%98/"><img class="next-cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ObjectBox增加新字段的问题</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2016/12/05/20161205 一个方便做轮播图的工具/" title="一个方便做轮播图的工具"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2016-12-05</div><div class="title">一个方便做轮播图的工具</div></div></a></div><div><a href="/2016/12/06/20161206 滑动回弹与内层listview的滑动冲突/" title="滑动回弹与内层listview的滑动冲突"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2016-12-06</div><div class="title">滑动回弹与内层listview的滑动冲突</div></div></a></div><div><a href="/2017/06/27/20170627 AlertDialog不显示文字/" title="AlertDialog不显示文字"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2017-06-27</div><div class="title">AlertDialog不显示文字</div></div></a></div><div><a href="/2017/07/05/20170705 打开相册失败no activity found/" title="打开相册失败no activity found"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2017-07-05</div><div class="title">打开相册失败no activity found</div></div></a></div><div><a href="/2017/07/14/20170714 给软键盘加上一个插件布局/" title="给软键盘加上一个插件布局"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2017-07-14</div><div class="title">给软键盘加上一个插件布局</div></div></a></div><div><a href="/2017/07/18/20170718 gravity=center_vertical与centerVertcal=true的区别/" title="gravity=center_vertical与centerVertcal=true的区别"><img class="cover" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/6.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2017-07-18</div><div class="title">gravity=center_vertical与centerVertcal=true的区别</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/avatar.jfif" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Nanaya Haruki</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">91</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/NanayaHaruki" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="/242180271@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E7%A9%BA%E5%BF%83%E5%9C%86stroke%E9%97%AE%E9%A2%98"><span class="toc-number">1.</span> <span class="toc-text">绘制空心圆stroke问题</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E7%BA%B5%E5%90%91%E5%B1%85%E4%B8%AD%E5%92%8C%E5%B7%A6%E5%AF%B9%E9%BD%90"><span class="toc-number"></span> <span class="toc-text">绘制文字纵向居中和左对齐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E8%B7%B3%E8%BF%87%E5%9B%BE%E7%89%87"><span class="toc-number"></span> <span class="toc-text">绘制文字跳过图片</span></a></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/05/31/20210531%20AS%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%BE%E7%BD%AE/" title="AS的一些设置"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AS的一些设置"/></a><div class="content"><a class="title" href="/2021/05/31/20210531%20AS%E7%9A%84%E4%B8%80%E4%BA%9B%E8%AE%BE%E7%BD%AE/" title="AS的一些设置">AS的一些设置</a><time datetime="2021-05-31T02:04:27.000Z" title="发表于 2021-05-31 10:04:27">2021-05-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/10/20210310%20flutter%20web%20%E9%A1%B5%E9%9D%A2%E7%A9%BA%E7%99%BD%20canvaskit/" title="20210310 flutter web 页面空白 canvaskit"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="20210310 flutter web 页面空白 canvaskit"/></a><div class="content"><a class="title" href="/2021/03/10/20210310%20flutter%20web%20%E9%A1%B5%E9%9D%A2%E7%A9%BA%E7%99%BD%20canvaskit/" title="20210310 flutter web 页面空白 canvaskit">20210310 flutter web 页面空白 canvaskit</a><time datetime="2021-03-10T02:04:27.000Z" title="发表于 2021-03-10 10:04:27">2021-03-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/09/11/20200911%20%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E7%9A%84%E5%AF%B9%E9%BD%90%E4%B8%8E%E8%B7%B3%E8%BF%87%E5%9B%BE%E7%89%87/" title="绘制文字的对齐与跳过图片"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="绘制文字的对齐与跳过图片"/></a><div class="content"><a class="title" href="/2020/09/11/20200911%20%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E7%9A%84%E5%AF%B9%E9%BD%90%E4%B8%8E%E8%B7%B3%E8%BF%87%E5%9B%BE%E7%89%87/" title="绘制文字的对齐与跳过图片">绘制文字的对齐与跳过图片</a><time datetime="2020-09-11T02:04:27.000Z" title="发表于 2020-09-11 10:04:27">2020-09-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/07/24/20200724%20ObjectBox%E5%A2%9E%E5%8A%A0%E6%96%B0%E5%AD%97%E6%AE%B5%E7%9A%84%E9%97%AE%E9%A2%98/" title="ObjectBox增加新字段的问题"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ObjectBox增加新字段的问题"/></a><div class="content"><a class="title" href="/2020/07/24/20200724%20ObjectBox%E5%A2%9E%E5%8A%A0%E6%96%B0%E5%AD%97%E6%AE%B5%E7%9A%84%E9%97%AE%E9%A2%98/" title="ObjectBox增加新字段的问题">ObjectBox增加新字段的问题</a><time datetime="2020-07-24T02:04:27.000Z" title="发表于 2020-07-24 10:04:27">2020-07-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/07/13/20200713%20%E7%BB%8F%E6%B5%8E%E5%AD%A6/" title="经济学"><img src= "data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=" data-lazy-src="/img/1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="经济学"/></a><div class="content"><a class="title" href="/2020/07/13/20200713%20%E7%BB%8F%E6%B5%8E%E5%AD%A6/" title="经济学">经济学</a><time datetime="2020-07-13T02:55:27.000Z" title="发表于 2020-07-13 10:55:27">2020-07-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Nanaya Haruki</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>